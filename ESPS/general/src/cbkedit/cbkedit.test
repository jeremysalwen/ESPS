# @(#)cbkedit.test	3.1 10/6/87 ESI
ESPSCOM=./espscom
export ESPSCOM
echo test of cbkedit
echo " "
cat >Plloydcbk <<ENDOFDATA
int cbk_size = 4 : "number of codewords";
float convergence = .001 : "convergence threshold";
string distortion = "SQUARED_ERROR" : "distortion measure";
ENDOFDATA
lloydcbk -PPlloydcbk - test.cbk <<ENDOFDATA
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2
-1
1
2
-2.00001
-.999999
.9999999
2.000001
ENDOFDATA
psps test.cbk
echo try and run it on a pipe, this should fail.
cat test.cbk  | cbkedit -
sleep 5
echo run it on the file
cbkedit test.cbk
psps test.cbk
echo bye
rm Plloydcbk
